<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->

  <title>GreenFair</title>

  <!--    Google Fonts-->
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:400,300,600,700,800" rel="stylesheet"
    type="../text/css" />

  <!--Fontawesom-->
  <link rel="stylesheet" href="../css/font-awesome.min.css" />

  <!--Animated CSS-->
  <link rel="stylesheet" type="../text/css" href="../css/animate.min.css" />

  <!-- Bootstrap -->
  <link href="../css/bootstrap.min.css" rel="stylesheet" />
  <!--Bootstrap Carousel-->
  <link type="../text/css" rel="stylesheet" href="../css/carousel.css" />

  <link rel="stylesheet" href="../css/isotope/style.css" />


    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
</head>

<body>
  <nav class="include" include-html="./nav.html"></nav>

  <!-- storage.html 페이지 -->
  <section id="blog">
    <div class="container">
      <div class="row">
        <div class="col-md-8">
          <div class="latest_blog text-left">
            <h3 style="padding-left: 10px">레시피 창고</h3>
            <hr />
          </div>
        </div>

        <div class="col-md-4">
          <div class="latest_blog text-left">
            <h3 style="padding-left: 10px">이거 필요해?</h3>
            <hr />
          </div>
        </div>
      </div>
      <!--End of row-->
      <div class="row">
        <div div class="col-md-8" id="stored-recipe">
          <script>
            $('#stored-recipe').ready(function () {
              console.log(localStorage.getItem('id'));
            })
          </script>
        </div>

        <!-- 재료 주문 리스트 -->
        <div id="orderlist">
          <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4">
            <div class="orderlist_board">
              <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6">
                <a href="#">
                  <h4>진수국밥</h4>
                </a>
              </div>
              <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6">
                <a href="#">
                  <h4>주문하기</h4>
                </a>
              </div>
            </div>
          </div>

          <!-- 재료 주문 리스트 -->
          <div id="orderlist"></div>
      </div>
      <!--End of container-->
    </section>

    <footer class="include" include-html="./footer.html"></footer>

    <script src="../js/jquery-1.12.3.min.js"></script>
    <script type="text/javascript" src="../js/list.js"></script>
    <script src="../js/includeHTML.js"></script>
    <script src="../js/bootstrap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.0.0/jquery.min.js"></script>
    <script>includeHTML();</script>
    <!--삭제-->
    <script type="text/javascript">
      $("#delbtn").click(function () {
        $("div").remove("#rm");
      });
    });
  </script>
</body>


    <!--추가-->
    <script>
      $("#addbtn").click(function (event) {
        event.preventDefault();
        this.blur();

        $.popup({
          url: "./modal1.html",
          close: function (result) {
            console.log(result);
          },
        });
      });
    </script>

    <script>
      var xhr=new XMLHttpRequest();
      xhr.open("GET", "../data/order-list.json");
      xhr.send();
      xhr.onreadystatechange = function () {
        if (xhr.readyState !== XMLHttpRequest.DONE) return;
        if (xhr.status === 200) {
                console.log(xhr.responseText);
                responseObject = JSON.parse(xhr.responseText);
                let newContent ='';
                responseObject.user_rec.forEach((user_rec) => {
                  newContent += `
                  <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4">
                  <div class="orderlist_board">
                    <div class="col-lg-8 col-md-8 col-sm-8 col-xs-8">
                      <a href="#"><h4>${user_rec.food}</h4></a>
                    </div>
                    <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4">
                      <a href="${user_rec.link}"><h4>주문하기</h4></a>
                    </div>
                  </div>
                </div>
                  `;
                });

                document.getElementById("orderlist").innerHTML = newContent;
              } else {
                console.log(`[${xhr.status}] : ${xhr.statusText}`);
              }
            };
    </script>


  </body>
</html>

